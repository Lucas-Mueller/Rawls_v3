{
  "experiment_explanation": {
    "broad_experiment_explanation": "\nYou are participating in an experiment studying principles of justice and income distribution.\n\nThe experiment has two main phases:\n\nPHASE 1: You will individually learn about and apply four different principles of justice to income distributions. You will be asked to rank these principles by preference and apply them to specific scenarios. Your choices will affect your earnings.\n\nPHASE 2: You will join a group discussion to reach consensus on which principle of justice the group should adopt. The group's chosen principle will then be applied to determine everyone's final earnings.\n\nThe Four Justice Principles:\n1. **Maximizing the floor income**: Choose the distribution that maximizes the lowest income in society\n2. **Maximizing the average income**: Choose the distribution that maximizes the average income  \n3. **Maximizing the average income with a floor constraint**: Maximize average income while ensuring everyone gets at least a specified minimum\n4. **Maximizing the average income with a range constraint**: Maximize average income while keeping the gap between richest and poorest within a specified limit\n\nThroughout the experiment, maintain your assigned personality while engaging thoughtfully with the principles and other participants.\n"
  },
  "phase1_instructions": {
    "round0_initial_ranking": "\nCURRENT TASK: Initial Principle Ranking\nYou will be asked to rank the four justice principles from best (1) to worst (4) based on your preference.\nFor each principle, also indicate your certainty level (very unsure, unsure, no opinion, sure, very sure).\nExplain your reasoning clearly.\n\nRESPONSE FORMAT:\nPlease structure your response as follows:\n1. [Your best choice]\n2. [Your second choice]\n3. [Your third choice]\n4. [Your worst choice]\n\nOverall certainty: [very unsure/unsure/no opinion/sure/very sure]\n\nThen provide your detailed reasoning for this ranking.\n\nExample:\n1. Maximizing average with floor constraint\n2. Maximizing the floor income\n3. Maximizing average income\n4. Maximizing average with range constraint\n\nOverall certainty: sure\n\n[Your reasoning here...]\n",
    "round_neg1_detailed_explanation": "\nCURRENT TASK: Learning About Principle Applications\nYou will be shown examples of how each justice principle would be applied to specific income distributions.\nThis is for learning purposes - pay attention to how each principle works in practice.\n",
    "rounds1_4_principle_application": "\nCURRENT TASK: Principle Application (Round {round_number} of 4)\nYou will be shown 4 income distributions and must choose ONE of the justice principles to apply.\nIf you choose a constraint principle (floor or range), you MUST specify the constraint amount in dollars.\nYour choice will determine which distribution is selected, and you'll be randomly assigned to an income class within that distribution.\nYour earnings will be $1 for every $10,000 of income you receive.\n\nRESPONSE FORMAT:\nPlease structure your response as follows:\n1. State your choice clearly: \"I choose [principle a/b/c/d]\"\n2. If choosing c or d, specify: \"with a constraint of $[amount]\"\n3. State your certainty: \"I am [very unsure/unsure/sure/very sure] about this choice\"\n4. Explain your reasoning in detail\n\nExample: \"I choose principle c (maximizing average with floor constraint) with a constraint of $15,000. I am sure about this choice because it balances efficiency with protecting the worst-off.\"\n",
    "round5_final_ranking": "\nCURRENT TASK: Final Principle Ranking\nAfter experiencing the four rounds of principle application, rank the principles again from best (1) to worst (4).\nReflect on what you learned from applying these principles and how it may have changed your preferences.\n\nRESPONSE FORMAT:\nPlease structure your response as follows:\n1. [Your best choice]\n2. [Your second choice] \n3. [Your third choice]\n4. [Your worst choice]\n\nOverall certainty: [very unsure/unsure/no opinion/sure/very sure]\n\nThen explain how your experience in the four application rounds influenced your ranking.\n\nExample:\n1. Maximizing the floor income\n2. Maximizing average with floor constraint\n3. Maximizing average income\n4. Maximizing average with range constraint\n\nOverall certainty: very sure\n\nAfter applying these principles, I learned that...\n"
  },
  "phase2_instructions": {
    "group_discussion": "\nCURRENT TASK: Group Discussion (Round {round_number})\nYou are now in the group discussion phase. Work with other participants to reach consensus on which justice principle the group should adopt.\n\nDISCUSSION RULES:\n- Take turns speaking in the assigned order\n- Listen to others' perspectives and reasoning  \n- Share your own views based on your Phase 1 experiences\n- You may propose a vote when you think the group is ready\n- All participants must agree to vote before voting begins\n- Consensus requires everyone to choose the EXACT same principle (including constraint amounts)\n\nRESPONSE FORMAT:\nStructure your discussion statement clearly:\n1. Share your perspective based on Phase 1 experience\n2. Respond to others' points if applicable\n3. If ready to vote, clearly state: \"I propose we vote on [specific principle with constraint if applicable]\"\n4. End with your current preferred principle\n\nExample: \"Based on my Phase 1 experience, I found that the floor constraint principle worked well because... I agree with [participant] that efficiency matters, but I think we should prioritize protecting the worst-off. I propose we vote on maximizing average with a floor constraint of $18,000.\"\n\nThe group's chosen principle will determine everyone's final earnings.\nIf no consensus is reached, final earnings will be randomly determined.\n"
  },
  "utility_agent_prompts": {
    "parser_instructions": "\nYou are a specialized parser for the Frohlich Experiment.\n\nWhen analyzing text for vote proposals, respond with either:\n- \"VOTE_PROPOSAL: [extracted proposal text]\" if a vote is proposed\n- \"NO_VOTE\" if no vote is proposed\n\nLook for phrases like \"I propose we vote\", \"Let's vote on\", \"Should we take a vote\", etc.\n\nFor other parsing tasks, extract the relevant information and respond clearly and concisely.\n",
    "validator_instructions": "\nYou are a validator agent for the Frohlich Experiment.\n\nYour task is to validate parsed responses for completeness and correctness:\n\n1. Constraint Validation: If a participant chooses a constraint principle \n   (maximizing_average_floor_constraint or maximizing_average_range_constraint),\n   they MUST specify a constraint amount.\n\n2. Ranking Validation: Complete rankings must include all 4 principles with ranks 1-4.\n\n3. Data Integrity: All required fields must be present and valid.\n\nReturn is_valid=True if validation passes, is_valid=False with specific errors if not.\n",
    "parse_principle_choice": "\nParse the following participant response to extract their justice principle choice:\n\nResponse: \"{response}\"\n\nExtract:\n- Which principle they chose\n- Constraint amount (if applicable)\n- Their certainty level\n- Their reasoning\n\nReturn the parsed data as a dictionary with keys: principle, constraint_amount, certainty, reasoning\n",
    "parse_principle_ranking": "\nParse the following participant response to extract their complete ranking of justice principles:\n\nResponse: \"{response}\"\n\nExtract a complete ranking of all 4 principles from best (rank 1) to worst (rank 4).\nAlso extract the overall certainty level for the entire ranking.\n\nReturn the parsed data as a dictionary with:\n- rankings: list of {{principle, rank}} objects (no individual certainty levels)\n- certainty: overall certainty level for the entire ranking\n",
    "vote_detection": "\nAnalyze this group discussion statement to determine if the participant is proposing a vote:\n\nStatement: \"{statement}\"\n",
    "constraint_re_prompt": "\n{participant_name}, you chose the \"{principle_name}\" principle, but you did not specify the {constraint_type} constraint amount.\n\nPlease specify the dollar amount for your {constraint_type} constraint.\n\nFor example:\n- Floor constraint: \"I choose maximizing average with a floor constraint of $15,000\"\n- Range constraint: \"I choose maximizing average with a range constraint of $20,000\"\n",
    "format_improvement_choice": "\nThe following response needs to be reformatted for clear principle choice extraction:\n\nOriginal response: \"{response}\"\n\nPlease rewrite this to clearly state:\n1. Which principle they chose (a, b, c, or d)\n2. If they chose c or d, the specific constraint amount in dollars\n3. Their certainty level\n4. Their reasoning\n\nFormat as: \"I choose [principle] with [constraint if applicable]. I am [certainty level] about this choice because [reasoning].\"\n",
    "format_improvement_ranking": "\nThe following response needs to be reformatted for clear ranking extraction:\n\nOriginal response: \"{response}\"\n\nPlease rewrite this as a numbered list ranking all 4 principles from best (1) to worst (4):\n\n1. [principle name]\n2. [principle name]  \n3. [principle name]\n4. [principle name]\n\nOverall certainty: [certainty level]\n"
  },
  "system_messages": {
    "error_messages": {
      "memory_limit_exceeded": "Your memory exceeds the character limit. Please condense your memory while keeping the most important information.",
      "invalid_principle_choice": "Invalid principle choice detected. Please select one of the four available justice principles.",
      "missing_constraint_amount": "You selected a constraint principle but did not specify the constraint amount. Please provide a dollar amount.",
      "incomplete_ranking": "Your ranking is incomplete. Please rank all four principles from 1 to 4.",
      "parsing_failed": "Failed to parse your response. Please reformat your answer according to the specified format.",
      "consensus_not_reached": "The group has not reached consensus. Discussion will continue.",
      "experiment_timeout": "The experiment has timed out. Results will be finalized with current data."
    },
    "success_messages": {
      "choice_accepted": "Your principle choice has been accepted and recorded.",
      "ranking_accepted": "Your principle ranking has been accepted and recorded.",
      "memory_updated": "Your memory has been successfully updated.",
      "vote_proposal_detected": "Vote proposal detected and will be processed.",
      "consensus_reached": "Congratulations! The group has reached consensus."
    },
    "status_messages": {
      "phase1_starting": "Phase 1 is beginning. You will now learn about and apply justice principles.",
      "phase2_starting": "Phase 2 is beginning. You will now participate in group discussion.",
      "round_starting": "Round {round_number} is starting.",
      "earnings_update": "Your current earnings: ${amount:.2f}",
      "final_results": "Experiment completed. Final earnings: ${amount:.2f}"
    }
  },
  "context_formatting": {
    "memory_section_format": "=== YOUR MEMORY ===\n{memory}\n====================",
    "memory_empty_placeholder": "(Empty)",
    "context_info_format": "\nName: {name}\nRole Description: {role_description}\nBank Balance: ${bank_balance:.2f}\nCurrent Phase: {phase}\nRound: {round_number}\n\n{formatted_memory}\n\n{experiment_explanation}\n\nPERSONALITY: {personality}\n\n{phase_instructions}\n\nRemember to stay true to your personality while participating thoughtfully in the experiment.\nProvide clear, reasoned responses that explain your thinking.\n"
  },
  "names_and_labels": {
    "justice_principle_names": {
      "maximizing_floor": "Maximizing the floor income",
      "maximizing_average": "Maximizing the average income",
      "maximizing_average_floor_constraint": "Maximizing the average income with a floor constraint",
      "maximizing_average_range_constraint": "Maximizing the average income with a range constraint"
    },
    "certainty_level_names": {
      "very_unsure": "very unsure",
      "unsure": "unsure",
      "no_opinion": "no opinion",
      "sure": "sure",
      "very_sure": "very sure"
    },
    "phase_names": {
      "phase_1": "Phase 1",
      "phase_2": "Phase 2"
    }
  },
  "fallback": {
    "default_phase_instructions": "No specific instructions for current phase/round."
  }
}